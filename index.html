<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inversiones YegniMaik - Control de Inventario</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
        }
        header {
            background-color: #343a40;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .container {
            margin: 20px;
        }
        .button {
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            margin: 10px;
        }
        .button-danger {
            background-color: #dc3545;
        }
        .button-primary {
            background-color: #007bff;
        }
        .section {
            margin-bottom: 30px;
        }
        .section input, .section select {
            padding: 5px;
            margin-right: 10px;
        }
        .inventory-list {
            width: 100%;
            border-collapse: collapse;
        }
        .inventory-list th, .inventory-list td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }
        .cart {
            margin-top: 20px;
        }
        .cart-table {
            width: 100%;
            border-collapse: collapse;
        }
        .cart-table th, .cart-table td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }
        .total {
            margin-top: 20px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>

<header>
    <h1>Inversiones YegniMaik - Control de Inventario</h1>
</header>

<div class="container">
    <!-- Contraseña para acceder a Ventas -->
    <div class="section">
        <label for="password">Contraseña para Ventas: </label>
        <input type="password" id="password" placeholder="Ingrese la contraseña">
        <button class="button" onclick="checkPassword()">Acceder a Ventas</button>
    </div>

    <!-- Ventas -->
    <div id="ventas" class="section" style="display: none;">
        <h2>Ventas</h2>
        <label for="producto">Seleccionar producto: </label>
        <select id="producto">
            <option value="0">Seleccione un producto</option>
            <option value="Aceite Corcovado 900 ml">Aceite Corcovado 900 ml</option>
            <option value="Aceite Corcordia Medio Litro">Aceite Corcordia Medio Litro</option>
            <option value="Harina Pan Tradicional">Harina Pan Tradicional</option>
            <!-- Agrega aquí todos los productos -->
        </select>
        <input type="number" id="cantidad" placeholder="Cantidad" min="1" value="1">
        <button class="button" onclick="addToCart()">Agregar al carrito</button>
        
        <div id="cart" class="cart">
            <h3>Carrito de Compras</h3>
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Precio</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="cart-items">
                    <!-- Items del carrito -->
                </tbody>
            </table>
            <div class="total" id="total">
                Total: 0 BS
            </div>
            <button class="button-danger" onclick="finalizeSale()">Finalizar Venta</button>
        </div>
    </div>

    <!-- Inventario -->
    <div id="inventario" class="section" style="display: none;">
        <h2>Inventario</h2>
        <table class="inventory-list">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Cantidad en stock</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody id="inventory-list">
                <!-- Inventario -->
            </tbody>
        </table>
    </div>

    <!-- Entradas -->
    <div class="section" style="display: none;">
        <label for="password-entradas">Contraseña para Entradas: </label>
        <input type="password" id="password-entradas" placeholder="Ingrese la contraseña">
        <button class="button" onclick="checkEntradasPassword()">Acceder a Entradas</button>
    </div>

</div>

<script>
    let inventario = {
        'Aceite Corcovado 900 ml': { price: 2.35, stock: 100 },
        'Aceite Corcordia Medio Litro': { price: 1.17, stock: 100 },
        'Harina Pan Tradicional': { price: 1.02, stock: 100 },
        // Agrega todos los productos aquí
    };
    let cart = [];
    let total = 0;
    let currency = 'BS'; // Default currency

    // Función para verificar la contraseña de ventas
    function checkPassword() {
        const password = document.getElementById('password').value;
        if (password === '123456') {
            document.getElementById('ventas').style.display = 'block';
            displayInventory();
        } else {
            alert('Contraseña incorrecta');
        }
    }

    // Función para agregar al carrito
    function addToCart() {
        const producto = document.getElementById('producto').value;
        const cantidad = parseInt(document.getElementById('cantidad').value);

        if (producto && cantidad > 0 && inventario[producto].stock >= cantidad) {
            inventario[producto].stock -= cantidad; // Actualizar el stock
            cart.push({ producto, cantidad, price: inventario[producto].price });
            updateCart();
            displayInventory();
        } else {
            alert('Cantidad no válida o stock insuficiente');
        }
    }

    // Función para actualizar el carrito
    function updateCart() {
        let cartItems = '';
        total = 0;
        cart.forEach(item => {
            let itemTotal = item.price * item.cantidad;
            total += itemTotal;
            cartItems += `<tr>
                <td>${item.producto}</td>
                <td>${item.cantidad}</td>
                <td>${item.price} ${currency}</td>
                <td>${itemTotal} ${currency}</td>
            </tr>`;
        });
        document.getElementById('cart-items').innerHTML = cartItems;
        document.getElementById('total').innerHTML = `Total: ${total} ${currency}`;
    }

    // Función para finalizar la venta
    function finalizeSale() {
        alert('Venta finalizada');
        cart = [];
        total = 0;
        updateCart();
        displayInventory();
    }

    // Función para mostrar el inventario
    function displayInventory() {
        let inventoryItems = '';
        for (const producto in inventario) {
            inventoryItems += `<tr>
                <td>${producto}</td>
                <td>${inventario[producto].stock}</td>
                <td>${inventario[producto].price} ${currency}</td>
            </tr>`;
        }
        document.getElementById('inventory-list').innerHTML = inventoryItems;
    }

    // Función para verificar la contraseña de entradas
    function checkEntradasPassword() {
        const password = document.getElementById('password-entradas').value;
        if (password === '010919') {
            alert('Acceso concedido a Entradas');
            // Aquí puedes agregar las funcionalidades de entradas (agregar productos al inventario)
        } else {
            alert('Contraseña incorrecta');
        }
    }
</script>

</body>
</html>
