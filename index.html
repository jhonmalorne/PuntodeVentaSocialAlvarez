<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inversiones YegniMaik</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .header, .button-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .button-container button {
            margin: 5px;
            padding: 10px;
            cursor: pointer;
        }
        .table-container, .cart-container, .inventory-container {
            margin: 20px auto;
            width: 80%;
            text-align: center;
        }
        .table, .cart, .inventory {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .table th, .cart th, .inventory th, .table td, .cart td, .inventory td {
            border: 1px solid #ccc;
            padding: 10px;
        }
        .input-field {
            padding: 5px;
            margin: 5px;
        }
        #total {
            font-size: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Inversiones YegniMaik</h1>
    </div>

    <div class="button-container">
        <button onclick="showSales()">Ventas</button>
        <button onclick="showInventory()">Inventario</button>
        <button onclick="showEntries()">Entradas</button>
    </div>

    <div class="sales-container" style="display: none;">
        <h2>Ventas</h2>
        <div>
            <label for="currency">Seleccionar Moneda:</label>
            <button onclick="setCurrency('bs')">Bs</button>
            <button onclick="setCurrency('usd')">USD</button>
        </div>
        <div class="cart-container">
            <table class="cart">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="cart-list"></tbody>
            </table>
            <div id="total"></div>
        </div>
        <div class="product-list">
            <h3>Productos</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Agregar al Carrito</th>
                    </tr>
                </thead>
                <tbody id="product-list">
                    <!-- Productos serán listados aquí -->
                </tbody>
            </table>
        </div>
    </div>

    <div class="inventory-container" style="display: none;">
        <h2>Inventario</h2>
        <table class="inventory">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Stock Actual</th>
                </tr>
            </thead>
            <tbody id="inventory-list">
                <!-- Inventario actualizado se mostrará aquí -->
            </tbody>
        </table>
    </div>

    <div class="entries-container" style="display: none;">
        <h2>Entradas de Inventario</h2>
        <label for="password">Contraseña:</label>
        <input type="password" id="password" class="input-field">
        <button onclick="checkPassword()">Acceder</button>
        <div id="entry-form" style="display: none;">
            <label for="product">Seleccionar Producto:</label>
            <select id="product-entry">
                <!-- Opciones de productos -->
            </select><br><br>
            <label for="quantity">Cantidad a agregar:</label>
            <input type="number" id="quantity-entry" class="input-field"><br><br>
            <button onclick="addEntry()">Agregar al Inventario</button>
        </div>
    </div>

    <script>
        const products = {
            'Aceite Corcovado 900 ml': { price: 2.35, stock: 100 },
            'Aceite Corcordia Medio Litro': { price: 1.17, stock: 100 },
            'Aceite Corcordia Cuarto Litro': { price: 0.60, stock: 100 },
            'Aceite Corcordia 110 ml': { price: 0.32, stock: 100 },
            'Harina Pan Tradicional': { price: 1.02, stock: 100 },
            'Harina Pan Arroz': { price: 0.79, stock: 100 },
            'Budare Harina': { price: 0.73, stock: 100 },
            'Harina Belén': { price: 0.73, stock: 100 },
            'Harina de Trigo Doña Maria': { price: 1.32, stock: 100 },
            'Harina de Dulce Mar': { price: 1.12, stock: 100 },
            // Resto de los productos se agregan aquí
        };

        let cart = [];
        let currency = 'bs'; // Default currency is Bs

        function showSales() {
            document.querySelector('.sales-container').style.display = 'block';
            document.querySelector('.inventory-container').style.display = 'none';
            document.querySelector('.entries-container').style.display = 'none';
            loadProducts();
        }

        function showInventory() {
            document.querySelector('.sales-container').style.display = 'none';
            document.querySelector('.inventory-container').style.display = 'block';
            document.querySelector('.entries-container').style.display = 'none';
            loadInventory();
        }

        function showEntries() {
            document.querySelector('.sales-container').style.display = 'none';
            document.querySelector('.inventory-container').style.display = 'none';
            document.querySelector('.entries-container').style.display = 'block';
        }

        function loadProducts() {
            let productList = '';
            for (let product in products) {
                productList += `
                    <tr>
                        <td>${product}</td>
                        <td>${products[product].price} ${currency === 'bs' ? 'Bs' : 'USD'}</td>
                        <td><button onclick="addToCart('${product}')">Agregar</button></td>
                    </tr>
                `;
            }
            document.getElementById('product-list').innerHTML = productList;
        }

        function addToCart(productName) {
            const product = products[productName];
            if (product.stock > 0) {
                const cartItem = cart.find(item => item.name === productName);
                if (cartItem) {
                    cartItem.quantity++;
                } else {
                    cart.push({ name: productName, price: product.price, quantity: 1 });
                }
                product.stock--;
                updateCart();
                loadInventory();
            } else {
                alert('Producto agotado');
            }
        }

        function updateCart() {
            let cartList = '';
            let total = 0;
            cart.forEach(item => {
                cartList += `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.price}</td>
                        <td>${item.quantity}</td>
                        <td>${item.price * item.quantity}</td>
                    </tr>
                `;
                total += item.price * item.quantity;
            });
            document.getElementById('cart-list').innerHTML = cartList;
            document.getElementById('total').innerText = `Total: ${total} ${currency === 'bs' ? 'Bs' : 'USD'}`;
        }

        function loadInventory() {
            let inventoryList = '';
            for (let product in products) {
                inventoryList += `
                    <tr>
                        <td>${product}</td>
                        <td>${products[product].stock}</td>
                    </tr>
                `;
            }
            document.getElementById('inventory-list').innerHTML = inventoryList;
        }

        function setCurrency(newCurrency) {
            currency = newCurrency;
            loadProducts();
            updateCart();
        }

        function checkPassword() {
            const password = document.getElementById('password').value;
            if (password === '010919') {
                document.getElementById('entry-form').style.display = 'block';
                loadProductOptionsForEntries();
            } else {
                alert('Contraseña incorrecta');
            }
        }

        function loadProductOptionsForEntries() {
            let options = '';
            for (let product in products) {
                options += `<option value="${product}">${product}</option>`;
            }
            document.getElementById('product-entry').innerHTML = options;
        }

        function addEntry() {
            const productName = document.getElementById('product-entry').value;
            const quantity = parseInt(document.getElementById('quantity-entry').value);
            if (quantity > 0) {
                products[productName].stock += quantity;
                loadInventory();
            }
        }
    </script>

</body>
</html>
